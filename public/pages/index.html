<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>PokerGeek.ai â€” The Poker Enthusiasts Platform</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600;800&family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="/css/pokergeek.css">
<link rel="stylesheet" href="/css/index-modern.css">

</head>
<body>
  <div class="bg-animation"></div>
  <div class="floating-cards" id="floating-cards"></div>

  <!-- UNIFIED NAVBAR (Injected by navbar-template.js) -->
  <div id="navbar-container"></div>

  <!-- Hero Section -->
  <section class="index-hero">
    <div class="hero-content-modern">
      <h1 class="hero-title-modern">
        PokerGeek<span class="spinning-suit"></span>
      </h1>
      <p class="hero-tagline">The poker enthusiasts platform</p>
      <p class="hero-description-modern">
        True random shuffles, seamless games, data driven analysis, ai powered insights
      </p>
      <div class="cta-buttons-modern">
        <a href="/play" class="btn-hero-primary">Play Now</a>
        <a href="/pages/friends.html" class="btn-hero-secondary">Add Friends</a>
        <a href="/pages/analysis.html" class="btn-hero-secondary">View Analysis</a>
      </div>
    </div>
  </section>

  <!-- Problems Section - Clean Text Layout -->
  <section class="problems-section">
    <div class="problems-text-grid">
      <div class="problem-text-item">
        <h3 class="problem-title-text">No BS Shuffling or Engagement Algos</h3>
        <p class="problem-description-text">
          Other platforms use pseudorandom generators you can't verify. 
          We hash Twitch stream entropy sources and use that seed to expand 
          Fisher-Yates shuffles. Every shuffle is independently verifiable. 
          <a href="/pages/learning.html">Read about our algorithm â†’</a>
        </p>
      </div>
      
      <div class="problem-text-item">
        <h3 class="problem-title-text">Track Every Hand. Improve Your Style.</h3>
        <p class="problem-description-text">
          We log every action, every decision, every outcome. VPIP, PFR, 
          aggression factor, positional statsâ€”all calculated in real-time. 
          Your data becomes your edge. 
          <a href="/pages/analysis.html">View your analytics â†’</a>
        </p>
      </div>
      
      <div class="problem-text-item">
        <h3 class="problem-title-text">Holistic Features, Not Just Cards</h3>
        <p class="problem-description-text">
          Real-time multiplayer, GTO analysis, AI coaching, social features, 
          hand history, performance trackingâ€”all in one platform. 
          <a href="/pages/ai-solver.html">Explore our tools â†’</a>
        </p>
      </div>
      </div>
  </section>

  <!-- Features Section - Varied Sizes Apple-like -->
  <section class="solutions-section">
    <div class="solutions-grid-apple">
      <a href="/play" class="solution-tile-large liquid-glass liquid-glass--xl solution-card-link">
        <div class="solution-icon">
          <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/>
          </svg>
      </div>
        <h3 class="solution-title">Play</h3>
        <p class="solution-description">
          Real-time multiplayer. Sub-100ms latency. Private rooms, public games, tournaments.
        </p>
        <span class="solution-link">Play Now â†’</span>
      </a>
      
      <a href="/pages/analysis.html" class="solution-tile-medium solution-tile-analytics liquid-glass liquid-glass--lg solution-card-link">
        <div class="solution-icon">
          <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M12 2L2 7l10 5 10-5-10-5z"/>
            <path d="M2 17l10 5 10-5"/>
            <path d="M2 12l10 5 10-5"/>
          </svg>
      </div>
        <h3 class="solution-title">Analytics</h3>
        <p class="solution-description">
          VPIP, PFR, aggression factor, positional stats. Every hand tracked. Every decision analyzed.
          </p>
        <span class="solution-link">View Analytics â†’</span>
      </a>
      
      <a href="/pages/ai-solver.html" class="solution-tile-medium solution-tile-solver liquid-glass liquid-glass--lg solution-card-link">
        <div class="solution-icon">
          <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/>
            <polyline points="3.27 6.96 12 12.01 20.73 6.96"/>
            <line x1="12" y1="22.08" x2="12" y2="12"/>
          </svg>
    </div>
        <h3 class="solution-title">AI GTO Solver</h3>
        <p class="solution-description">
          GTO solver fused with LLM coaching. Post-hand insights. Range analysis. Real-time recommendations.
        </p>
        <span class="solution-link">Explore Solver â†’</span>
      </a>
      
      <a href="/pages/learning.html" class="solution-tile-medium solution-tile-learning liquid-glass liquid-glass--lg solution-card-link">
        <div class="solution-icon">
          <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/>
            <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/>
          </svg>
        </div>
        <h3 class="solution-title">Learning Center</h3>
        <p class="solution-description">
          Interactive lessons, practice scenarios, AI coaching. Master the fundamentals and advanced concepts.
          </p>
        <span class="solution-link">Start Learning â†’</span>
      </a>
      
      <a href="/pages/friends.html" class="solution-tile-small solution-tile-friends liquid-glass liquid-glass--md solution-card-link">
        <div class="solution-icon">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
            <circle cx="9" cy="7" r="4"/>
            <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
            <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
          </svg>
        </div>
        <h3 class="solution-title">Friends & Social</h3>
        <p class="solution-description">
          Build your network. Share stats. Challenge friends. Your reputation becomes your identity.
        </p>
        <span class="solution-link">Add Friends â†’</span>
      </a>
      
      <div class="solution-tile-small solution-tile-audit liquid-glass liquid-glass--md">
        <div class="solution-icon">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
            <polyline points="14 2 14 8 20 8"/>
            <line x1="16" y1="13" x2="8" y2="13"/>
            <line x1="16" y1="17" x2="8" y2="17"/>
            <polyline points="10 9 9 9 8 9"/>
          </svg>
        </div>
        <h3 class="solution-title">Complete Audit Trail</h3>
        <p class="solution-description">
          Every action logged. Every shuffle traceable. Every decision auditable. Full transparency.
        </p>
      </div>
      
      <div class="solution-tile-small solution-tile-anticheat liquid-glass liquid-glass--md">
        <div class="solution-icon">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
            <path d="M12 8v4"/>
            <path d="M12 16h.01"/>
          </svg>
        </div>
        <h3 class="solution-title">Anti-Cheat System</h3>
        <p class="solution-description">
          Timing analysis. Behavior monitoring. Multi-account prevention. Collusion detection.
          </p>
        </div>
      </div>
  </section>

  <!-- Why Section - Visual Tiles -->
  <section class="why-section-apple">
    <div class="why-grid-apple">
      <div class="why-tile-large liquid-glass liquid-glass--xl">
        <h2 class="why-title-apple">Why PokerGeek?</h2>
        <p class="why-lead-apple">
          We built this for players who care about truth.
        </p>
         </div>
      <div class="why-tile-medium liquid-glass liquid-glass--lg">
        <p class="why-text-apple">
          Most poker sites hide behind black boxes. We show you the math. 
          We show you the data. We show you who you are at the table.
        </p>
         </div>
      <div class="why-tile-medium liquid-glass liquid-glass--lg">
        <p class="why-text-apple">
          Your stats become your reputation. Your reputation becomes your identity.
        </p>
         </div>
      <div class="why-tile-small liquid-glass liquid-glass--md">
        <p class="why-tagline-apple">
          This is where serious poker lives.
        </p>
       </div>
    </div>
  </section>

  <!-- Footer - Minimal Apple-like -->
  <footer class="footer-apple">
    <div class="footer-apple-content">
      <div class="footer-brand">
        <a href="index.html" class="footer-logo-apple">PokerGeek.ai</a>
        <p class="footer-tagline-apple">Transparent poker. Provably fair. Data-driven.</p>
      </div>
      <nav class="footer-nav-apple">
        <a href="#privacy">Privacy</a>
        <a href="#terms">Terms</a>
        <a href="#support">Support</a>
        <a href="#contact">Contact</a>
      </nav>
      <div class="footer-copyright-apple">
        <p>&copy; 2024 PokerGeek.ai</p>
      </div>
    </div>
  </footer>

  <!-- Login/Signup Modal -->
  <div id="loginModal" class="modal-overlay">
    <div class="modal-box">
      <button class="modal-close" onclick="closeLoginModal()">&times;</button>
      
      <div class="modal-header">
        <h2 class="modal-title">Welcome Back</h2>
        <p class="modal-subtitle">Sign in to your account to continue playing</p>
      </div>

      <div class="modal-tabs">
        <button class="modal-tab active" onclick="switchModalTab('login')">Login</button>
        <button class="modal-tab" onclick="switchModalTab('signup')">Sign Up</button>
      </div>

      <!-- Login Form -->
      <div id="loginForm" class="modal-form active">
        <!-- Google Auth Button -->
        <button class="btn-google" onclick="handleGoogleAuth()">
          <svg class="google-icon" viewBox="0 0 24 24" width="20" height="20">
            <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
            <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
            <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
            <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
          </svg>
          Continue with Google
        </button>
        
        <button class="btn btn-secondary" onclick="handleGuestSignIn()" style="width: 100%; padding: 0.75rem; margin-top: 0.5rem; background: rgba(108,117,125,0.2); border: 1px solid rgba(108,117,125,0.5); color: #fff;">
          Continue as Guest
        </button>
        
        <div class="divider">
          <span>or</span>
          </div>
          
          <div class="form-group">
          <label class="form-label">Email Address</label>
          <input type="email" class="form-input" id="loginEmail" placeholder="Enter your email address" required>
          <div class="form-error" id="loginEmailError"></div>
          </div>
        <div class="form-group">
          <label class="form-label">Password</label>
          <div class="password-input">
            <input type="password" class="form-input" id="loginPassword" placeholder="Enter your password" required>
            <button type="button" class="password-toggle" onclick="togglePassword('loginPassword')" aria-label="Toggle password visibility">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                <circle cx="12" cy="12" r="3"/>
              </svg>
            </button>
          </div>
          <div class="form-error" id="loginPasswordError"></div>
        </div>
          <div class="form-options">
          <div class="checkbox-group">
            <input type="checkbox" class="checkbox" id="remember">
            <label class="checkbox-label" for="remember">Remember me for 30 days</label>
          </div>
          <a href="#" class="forgot-link" onclick="showForgotPassword()">Forgot password?</a>
        </div>
        <button class="btn-submit" onclick="handleLogin()">Sign In to PokerGeek</button>
        <div class="form-footer">
          <p>Don't have an account? <a href="#" onclick="switchModalTab('signup')">Create one here</a></p>
        </div>
          </div>

      <!-- Signup Form -->
      <div id="signupForm" class="modal-form">
        <!-- Google Auth Button -->
        <button class="btn-google" onclick="handleGoogleAuth()">
          <svg class="google-icon" viewBox="0 0 24 24" width="20" height="20">
            <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
            <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
            <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
            <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
          </svg>
          Sign up with Google
        </button>

        <div class="divider">
          <span>or</span>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label class="form-label">First Name</label>
            <input type="text" class="form-input" id="signupFirstName" placeholder="First name" required>
            <div class="form-error" id="signupFirstNameError"></div>
        </div>
          <div class="form-group">
            <label class="form-label">Last Name</label>
            <input type="text" class="form-input" id="signupLastName" placeholder="Last name" required>
            <div class="form-error" id="signupLastNameError"></div>
      </div>
        </div>
          <div class="form-group">
          <label class="form-label">Email Address</label>
          <input type="email" class="form-input" id="signupEmail" placeholder="Enter your email address" required>
          <div class="form-error" id="signupEmailError"></div>
          </div>
          <div class="form-group">
          <label class="form-label">Username</label>
          <input type="text" class="form-input" id="signupUsername" placeholder="Choose a unique username" required>
          <div class="form-error" id="signupUsernameError"></div>
          </div>
          <div class="form-group">
          <label class="form-label">Password</label>
          <div class="password-input">
            <input type="password" class="form-input" id="signupPassword" placeholder="Create a strong password" required>
            <button type="button" class="password-toggle" onclick="togglePassword('signupPassword')" aria-label="Toggle password visibility">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                <circle cx="12" cy="12" r="3"/>
              </svg>
            </button>
          </div>
          <div class="password-strength" id="passwordStrength"></div>
          <div class="form-error" id="signupPasswordError"></div>
        </div>
        <div class="form-group">
          <label class="form-label">Confirm Password</label>
          <div class="password-input">
            <input type="password" class="form-input" id="signupConfirmPassword" placeholder="Confirm your password" required>
            <button type="button" class="password-toggle" onclick="togglePassword('signupConfirmPassword')" aria-label="Toggle password visibility">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                <circle cx="12" cy="12" r="3"/>
              </svg>
            </button>
          </div>
          <div class="form-error" id="signupConfirmPasswordError"></div>
        </div>
        <div class="form-group">
          <label class="form-label">Date of Birth</label>
          <input type="date" class="form-input" id="signupBirthDate" required>
          <div class="form-error" id="signupBirthDateError"></div>
        </div>
        <div class="checkbox-group">
          <input type="checkbox" class="checkbox" id="terms" required>
          <label class="checkbox-label" for="terms">I agree to the <a href="#" class="link">Terms of Service</a> and <a href="#" class="link">Privacy Policy</a></label>
        </div>
        <div class="checkbox-group">
          <input type="checkbox" class="checkbox" id="newsletter">
          <label class="checkbox-label" for="newsletter">Send me updates about new features and promotions</label>
        </div>
        <button class="btn-submit" onclick="handleSignup()">Create Account</button>
        <div class="form-footer">
          <p>Already have an account? <a href="#" onclick="switchModalTab('login')">Sign in here</a></p>
        </div>
      </div>
    </div>
          </div>

  <!-- Forgot Password Modal -->
  <div id="forgotPasswordModal" class="modal-overlay" style="display: none;">
    <div class="modal-box">
      <button class="modal-close" onclick="closeForgotPassword()">&times;</button>
      <div class="forgot-title">Reset Password</div>
      <div class="forgot-subtitle">Enter your email address and we'll send you a link to reset your password.</div>
          <div class="form-group">
        <label class="form-label">Email</label>
        <input type="email" class="form-input" placeholder="Enter your email">
      </div>
      <button class="btn-submit" onclick="handleForgotPassword()">Send Reset Link</button>
    </div>
          </div>

  <!-- Settings Modal -->
  <div id="settingsModal" class="modal-overlay" style="display: none;">
    <div class="modal-box settings-modal">
      <button class="modal-close" onclick="closeSettingsModal()">&times;</button>
      
      <div class="modal-header">
        <h2 class="modal-title">Account Settings</h2>
        <p class="modal-subtitle">Manage your profile and preferences</p>
          </div>

      <div class="settings-tabs">
        <button class="settings-tab active" onclick="switchSettingsTab('profile')">Profile</button>
        <button class="settings-tab" onclick="switchSettingsTab('security')">Security</button>
        <button class="settings-tab" onclick="switchSettingsTab('preferences')">Preferences</button>
        <button class="settings-tab" onclick="switchSettingsTab('notifications')">Notifications</button>
      </div>
      
      <!-- Profile Tab -->
      <div id="profileTab" class="settings-content active">
        <div class="profile-section">
          <h3 class="section-title">Profile Information</h3>
          
          <div class="avatar-section">
            <div class="current-avatar" id="currentAvatar">
              <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                <circle cx="12" cy="7" r="4"/>
              </svg>
            </div>
            <div class="avatar-options">
              <h4>Choose Avatar</h4>
              <p style="color: #9aa3b2; font-size: 14px; margin-top: 8px;">Upload a profile picture or choose from defaults</p>
            </div>
        </div>

          <div class="form-row">
            <div class="form-group">
              <label class="form-label">First Name</label>
              <input type="text" class="form-input" id="settingsFirstName" placeholder="First name">
            </div>
            <div class="form-group">
              <label class="form-label">Last Name</label>
              <input type="text" class="form-input" id="settingsLastName" placeholder="Last name">
        </div>
      </div>

          <div class="form-group">
            <label class="form-label">Username</label>
            <input type="text" class="form-input" id="settingsUsername" placeholder="Username">
          </div>
          
          <div class="form-group">
            <label class="form-label">Email</label>
            <input type="email" class="form-input" id="settingsEmail" placeholder="Email address">
          </div>

          <div class="form-group">
            <label class="form-label">Bio</label>
            <textarea class="form-input" id="settingsBio" placeholder="Tell us about yourself..." rows="3"></textarea>
      </div>
    </div>
  </div>

      <!-- Security Tab -->
      <div id="securityTab" class="settings-content">
        <div class="security-section">
          <h3 class="section-title">Security Settings</h3>
          
          <div class="form-group">
            <label class="form-label">Current Password</label>
            <div class="password-input">
              <input type="password" class="form-input" id="currentPassword" placeholder="Enter current password">
              <button type="button" class="password-toggle" onclick="togglePassword('currentPassword')" aria-label="Toggle password visibility">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                  <circle cx="12" cy="12" r="3"/>
                </svg>
              </button>
            </div>
          </div>
          
          <div class="form-group">
            <label class="form-label">New Password</label>
            <div class="password-input">
              <input type="password" class="form-input" id="newPassword" placeholder="Enter new password">
              <button type="button" class="password-toggle" onclick="togglePassword('newPassword')" aria-label="Toggle password visibility">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                  <circle cx="12" cy="12" r="3"/>
                </svg>
              </button>
            </div>
            <div class="password-strength" id="settingsPasswordStrength"></div>
          </div>
          
          <div class="form-group">
            <label class="form-label">Confirm New Password</label>
            <div class="password-input">
              <input type="password" class="form-input" id="confirmNewPassword" placeholder="Confirm new password">
              <button type="button" class="password-toggle" onclick="togglePassword('confirmNewPassword')" aria-label="Toggle password visibility">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                  <circle cx="12" cy="12" r="3"/>
                </svg>
              </button>
            </div>
          </div>
          
          <div class="checkbox-group">
            <input type="checkbox" class="checkbox" id="twoFactor">
            <label class="checkbox-label" for="twoFactor">Enable Two-Factor Authentication</label>
          </div>
        </div>
      </div>
      
      <!-- Preferences Tab -->
      <div id="preferencesTab" class="settings-content">
        <div class="preferences-section">
          <h3 class="section-title">Game Preferences</h3>
          
          <div class="form-group">
            <label class="form-label">Default Stakes</label>
            <select class="form-input" id="defaultStakes">
              <option value="micro">Micro ($0.01/$0.02)</option>
              <option value="low">Low ($0.05/$0.10)</option>
              <option value="medium">Medium ($0.25/$0.50)</option>
              <option value="high">High ($1/$2)</option>
            </select>
          </div>
          
          <div class="form-group">
            <label class="form-label">Preferred Game Type</label>
            <select class="form-input" id="gameType">
              <option value="holdem">No Limit Hold'em</option>
              <option value="omaha">Pot Limit Omaha</option>
              <option value="tournament">Tournament</option>
            </select>
          </div>
          
          <div class="checkbox-group">
            <input type="checkbox" class="checkbox" id="autoMuck">
            <label class="checkbox-label" for="autoMuck">Auto-muck losing hands</label>
          </div>
          
          <div class="checkbox-group">
            <input type="checkbox" class="checkbox" id="showCards">
            <label class="checkbox-label" for="showCards">Show cards after hand</label>
          </div>
        </div>
      </div>
      
      <!-- Notifications Tab -->
      <div id="notificationsTab" class="settings-content">
        <div class="notifications-section">
          <h3 class="section-title">Notification Preferences</h3>
          
          <div class="checkbox-group">
            <input type="checkbox" class="checkbox" id="emailNotifications">
            <label class="checkbox-label" for="emailNotifications">Email notifications</label>
          </div>
          
          <div class="checkbox-group">
            <input type="checkbox" class="checkbox" id="gameInvites">
            <label class="checkbox-label" for="gameInvites">Game invitations</label>
          </div>
          
          <div class="checkbox-group">
            <input type="checkbox" class="checkbox" id="friendRequests">
            <label class="checkbox-label" for="friendRequests">Friend requests</label>
          </div>
          
          <div class="checkbox-group">
            <input type="checkbox" class="checkbox" id="tournamentUpdates">
            <label class="checkbox-label" for="tournamentUpdates">Tournament updates</label>
          </div>
        </div>
      </div>
      
      <div class="settings-actions">
        <button class="btn btn-secondary" onclick="closeSettingsModal()">Cancel</button>
        <button class="btn btn-danger" onclick="handleLogout()">Logout</button>
        <button class="btn btn-primary" onclick="saveSettings()">Save Changes</button>
      </div>
    </div>
  </div>

  <!-- Global animations -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="/js/auth-manager.js"></script>
  <script src="/js/global-animations.js"></script>
  <script src="/js/nav-shared.js"></script>
  <script src="/js/navbar-template.js"></script>
  <script src="/js/liquid-glass-controller.js"></script>
  <script>
    // Landing page: Initialize with wave + ongoing
    document.addEventListener('DOMContentLoaded', () => {
      if (typeof initFallingFX === 'function') {
        initFallingFX(); // Full wave + ongoing
    }
  });

  // Liquid Glass Controls - Now handled by centralized controller
  // Functions are available via window.liquidGlassController
  function toggleControls() {
    if (window.liquidGlassController) {
      window.liquidGlassController.toggleControls();
      }
    }
    
    function toggleLock() {
    if (window.liquidGlassController) {
      window.liquidGlassController.toggleLock();
      }
  }

    // Auth state management
    let isLoggedIn = false;
    let currentUser = null;

    // Helper to get current user
    function getCurrentUser() {
      return window.authManager?.getUser() || currentUser;
    }

    // Check if user is logged in on page load
    async function checkAuthState() {
      const user = await window.authManager.checkAuth();
      if (user) {
        currentUser = user;
        isLoggedIn = true;
        updateNavbarForLoggedInUser();
      } else {
        currentUser = null;
        isLoggedIn = false;
        updateNavbarForLoggedOutUser();
      }
    }

    // Subscribe to auth state changes (so UI updates on login/logout)
    if (window.authManager) {
      window.authManager.onAuthStateChange((user) => {
        console.log('ðŸ”” Auth state changed:', user);
        if (user) {
          currentUser = user;
          isLoggedIn = true;
          updateNavbarForLoggedInUser();
        } else {
          currentUser = null;
          isLoggedIn = false;
          updateNavbarForLoggedOutUser();
        }
      });
    }

    // Update navbar to show user menu instead of login/signup
    function updateNavbarForLoggedInUser() {
      document.getElementById('navbarAuth').style.display = 'none';
      document.getElementById('navbarUser').style.display = 'flex';
      document.getElementById('userName').textContent = currentUser.username || currentUser.name || 'User';
      // Avatar handled by image or SVG, not emoji
    }

    // Update navbar to show login/signup buttons
    function updateNavbarForLoggedOutUser() {
      document.getElementById('navbarAuth').style.display = 'flex';
      document.getElementById('navbarUser').style.display = 'none';
    }

    // Modal functions
    function openLoginModal() {
      document.getElementById('loginModal').classList.add('show');
      document.body.style.overflow = 'hidden';
      switchModalTab('login');
    }

    function closeLoginModal() {
      document.getElementById('loginModal').classList.remove('show');
      document.body.style.overflow = '';
      clearFormErrors();
    }

    function switchModalTab(tab) {
      // Remove active class from all tabs and forms
      document.querySelectorAll('.modal-tab').forEach(t => t.classList.remove('active'));
      document.querySelectorAll('.modal-form').forEach(f => f.classList.remove('active'));
      
      // Add active class to selected tab and form
      event.target.classList.add('active');
      document.getElementById(tab + 'Form').classList.add('active');
      clearFormErrors();
    }

    function showForgotPassword() {
      document.getElementById('loginModal').style.display = 'none';
      document.getElementById('forgotPasswordModal').style.display = 'flex';
    }

    function closeForgotPassword() {
      document.getElementById('forgotPasswordModal').style.display = 'none';
      document.getElementById('loginModal').style.display = 'flex';
    }

    // Form validation
    function clearFormErrors() {
      document.querySelectorAll('.form-error').forEach(error => {
        error.textContent = '';
      });
    }

    function showError(fieldId, message) {
      const errorElement = document.getElementById(fieldId + 'Error');
      if (errorElement) {
        errorElement.textContent = message;
      }
    }

    function validateEmail(email) {
      const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      return re.test(email);
    }

    function validatePassword(password) {
      return password.length >= 8;
    }

    function updatePasswordStrength(password) {
      const strengthElement = document.getElementById('passwordStrength');
      if (!strengthElement) return;

      strengthElement.className = 'password-strength';
      
      if (password.length < 6) {
        strengthElement.classList.add('weak');
      } else if (password.length < 8) {
        strengthElement.classList.add('fair');
      } else if (password.length < 12) {
        strengthElement.classList.add('good');
      } else {
        strengthElement.classList.add('strong');
      }
    }

    // Password toggle functionality
    function togglePassword(inputId) {
      const input = document.getElementById(inputId);
      const button = input.parentNode.querySelector('.password-toggle');
      
      if (input.type === 'password') {
        input.type = 'text';
        button.innerHTML = '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"/><line x1="1" y1="1" x2="23" y2="23"/></svg>';
      } else {
        input.type = 'password';
        button.innerHTML = '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>';
      }
    }

    // Real Supabase Google OAuth
    async function handleGoogleAuth() {
      try {
        await window.authManager.loginWithGoogle();
        // User will be redirected to Google OAuth
      } catch (error) {
        showNotification('Sign in failed: ' + error.message, 'error');
      }
    }

    // Login with anonymous auth (email/password can be added later)
    async function handleLogin() {
      const email = document.getElementById('loginEmail').value;
      const password = document.getElementById('loginPassword').value;
      
      if (!email || !password) {
        showNotification('Please enter both email and password', 'error');
        return;
      }
      
      // Use anonymous auth for now
      const { data, error } = await supabase.auth.signInAnonymously();
      
      if (error) {
        showNotification('Login failed: ' + error.message, 'error');
        return;
      }
      
      const currentUser = {
        id: data.user.id,
        email: email,
        username: email.split('@')[0],
        avatar: null
      };
      
      setCurrentUser(currentUser);
      updateNavbarForLoggedInUser();
      closeLoginModal();
      showNotification('Welcome back!', 'success');
    }

    // Signup with anonymous auth (full signup can be added later)
    async function handleSignup() {
      const firstName = document.getElementById('signupFirstName').value;
      const lastName = document.getElementById('signupLastName').value;
      const email = document.getElementById('signupEmail').value;
      const username = document.getElementById('signupUsername').value;
      const password = document.getElementById('signupPassword').value;
      const confirmPassword = document.getElementById('signupConfirmPassword').value;
      const terms = document.getElementById('terms').checked;
      
      if (!firstName || !lastName || !email || !username || !password) {
        showNotification('Please fill in all required fields', 'error');
        return;
      }
      
      if (password !== confirmPassword) {
        showNotification('Passwords do not match', 'error');
        return;
      }
      
      if (!terms) {
        showNotification('Please agree to the Terms of Service', 'error');
        return;
      }
      
      // Use anonymous auth for now
      const { data, error } = await supabase.auth.signInAnonymously();
      
      if (error) {
        showNotification('Signup failed: ' + error.message, 'error');
        return;
      }
      
      const currentUser = {
        id: data.user.id,
        name: `${firstName} ${lastName}`,
        username: username,
        email: email,
        avatar: null
      };
      
      setCurrentUser(currentUser);
      updateNavbarForLoggedInUser();
      closeLoginModal();
      showNotification(`Welcome to PokerGeek, ${firstName}!`, 'success');
    }

    // Guest Sign In
    async function handleGuestSignIn() {
      try {
        const user = await window.authManager.createGuest();
        
        // Update local state
        currentUser = user;
        isLoggedIn = true;
        
        updateNavbarForLoggedInUser();
        closeLoginModal();
        showNotification(`Playing as ${user.username}`, 'success');
      } catch (error) {
        showNotification('Failed to create guest session', 'error');
      }
    }

    // Toggle User Dropdown
    function toggleUserDropdown() {
      const dropdown = document.getElementById('userDropdown');
      const isVisible = dropdown.style.display !== 'none';
      
      if (isVisible) {
        dropdown.style.display = 'none';
      } else {
        // Update dropdown content with current user data
        const user = getCurrentUser();
        // Avatar handled by image or SVG, not emoji
        document.getElementById('dropdownUsername').textContent = user?.username || 'Username';
        document.getElementById('dropdownEmail').textContent = user?.email || 'user@example.com';
        dropdown.style.display = 'block';
      }
    }

    // Close dropdown when clicking outside
    document.addEventListener('click', function(event) {
      const dropdown = document.getElementById('userDropdown');
      const profileTile = document.querySelector('.user-profile-tile');
      
      if (dropdown && !dropdown.contains(event.target) && !profileTile?.contains(event.target)) {
        dropdown.style.display = 'none';
      }
    });

    // Logout Function
    async function handleLogout() {
      if (confirm('Are you sure you want to logout?')) {
        // Use AuthManager for unified logout
        await window.authManager.logout();
        
        // Update local state
        currentUser = null;
        isLoggedIn = false;
        
        // Hide dropdown
        const dropdown = document.getElementById('userDropdown');
        if (dropdown) dropdown.style.display = 'none';
        
        showNotification('Logged out successfully', 'success');
      }
    }

    // Profile Settings (placeholder)
    function openProfileSettings() {
      toggleUserDropdown();
      showNotification('Profile settings coming soon!', 'info');
    }

    // Change Username (placeholder)
    function openChangeUsername() {
      toggleUserDropdown();
      const user = getCurrentUser();
      const newUsername = prompt('Enter new username:', user?.username || '');
      
      if (newUsername && newUsername.trim()) {
        if (user) {
          user.username = newUsername.trim();
          setCurrentUser(user);
          document.getElementById('userName').textContent = newUsername.trim();
          showNotification('Username updated successfully!', 'success');
        }
      }
    }

    // Change Password (placeholder)
    function openChangePassword() {
      toggleUserDropdown();
      
      const user = getCurrentUser();
      if (user?.isGuest) {
        showNotification('Guest users cannot change passwords. Sign up for a full account!', 'info');
        return;
      }
      
      showNotification('Change password functionality coming soon!', 'info');
    }

    // Avatar Picker (placeholder)
    function openAvatarPicker() {
      toggleUserDropdown();
      showNotification('Avatar upload coming soon', 'info');
    }

    // Notification system
    function showNotification(message, type = 'info') {
      // Remove existing notifications
      const existing = document.querySelector('.notification');
      if (existing) {
        existing.remove();
      }
      
      // Create notification element
      const notification = document.createElement('div');
      notification.className = `notification notification-${type}`;
      const iconSvg = type === 'success' 
        ? '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>'
        : type === 'error'
        ? '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>'
        : '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg>';
      notification.innerHTML = `
        <div class="notification-content">
          <span class="notification-icon">${iconSvg}</span>
          <span class="notification-message">${message}</span>
        </div>
      `;
      
      // Add to page
      document.body.appendChild(notification);
      
      // Show notification
      setTimeout(() => {
        notification.classList.add('show');
      }, 100);
      
      // Auto remove after 3 seconds
      setTimeout(() => {
        notification.classList.remove('show');
        setTimeout(() => {
          if (notification.parentNode) {
            notification.remove();
          }
        }, 300);
      }, 3000);
    }

    function handleForgotPassword() {
      const email = document.querySelector('#forgotPasswordModal input[type="email"]').value;
      if (!email) {
        alert('Please enter your email address');
        return;
      }
      
      if (!validateEmail(email)) {
        alert('Please enter a valid email address');
        return;
      }
      
      alert('Password reset email sent to ' + email);
      closeForgotPassword();
    }

    // Settings Modal Functions
    function openSettingsModal() {
      document.getElementById('settingsModal').style.display = 'flex';
      document.body.style.overflow = 'hidden';
      loadUserSettings();
    }

    function closeSettingsModal() {
      document.getElementById('settingsModal').style.display = 'none';
      document.body.style.overflow = '';
    }

    function switchSettingsTab(tab) {
      // Remove active class from all tabs and content
      document.querySelectorAll('.settings-tab').forEach(t => t.classList.remove('active'));
      document.querySelectorAll('.settings-content').forEach(c => c.classList.remove('active'));
      
      // Add active class to clicked tab and corresponding content
      event.target.classList.add('active');
      document.getElementById(tab + 'Tab').classList.add('active');
    }

    function loadUserSettings() {
      if (!currentUser) return;
      
      // Load profile data
      const nameParts = currentUser.name.split(' ');
      document.getElementById('settingsFirstName').value = nameParts[0] || '';
      document.getElementById('settingsLastName').value = nameParts.slice(1).join(' ') || '';
      document.getElementById('settingsUsername').value = currentUser.username || '';
      document.getElementById('settingsEmail').value = currentUser.email || '';
      document.getElementById('settingsBio').value = currentUser.bio || '';
      // Avatar handled by image upload, not emoji
      
      // Load preferences
      document.getElementById('defaultStakes').value = currentUser.defaultStakes || 'micro';
      document.getElementById('gameType').value = currentUser.gameType || 'holdem';
      document.getElementById('autoMuck').checked = currentUser.autoMuck || false;
      document.getElementById('showCards').checked = currentUser.showCards || false;
      
      // Load notification preferences
      document.getElementById('emailNotifications').checked = currentUser.emailNotifications !== false;
      document.getElementById('gameInvites').checked = currentUser.gameInvites !== false;
      document.getElementById('friendRequests').checked = currentUser.friendRequests !== false;
      document.getElementById('tournamentUpdates').checked = currentUser.tournamentUpdates !== false;
    }

    function selectAvatar(avatar) {
      // Avatar selection handled by image upload
      // This function can be removed or repurposed for image selection
    }

    function saveSettings() {
      if (!currentUser) return;
      
      // Update profile data
      const firstName = document.getElementById('settingsFirstName').value;
      const lastName = document.getElementById('settingsLastName').value;
      const username = document.getElementById('settingsUsername').value;
      const email = document.getElementById('settingsEmail').value;
      const bio = document.getElementById('settingsBio').value;
      const avatar = null; // Avatar handled by image upload
      
      // Basic validation
      if (!firstName || !lastName || !username || !email) {
        showNotification('Please fill in all required fields', 'error');
        return;
      }
      
      // Update user object
      currentUser.name = `${firstName} ${lastName}`;
      currentUser.username = username;
      currentUser.email = email;
      currentUser.bio = bio;
      currentUser.avatar = avatar;
      
      // Update preferences
      currentUser.defaultStakes = document.getElementById('defaultStakes').value;
      currentUser.gameType = document.getElementById('gameType').value;
      currentUser.autoMuck = document.getElementById('autoMuck').checked;
      currentUser.showCards = document.getElementById('showCards').checked;
      
      // Update notification preferences
      currentUser.emailNotifications = document.getElementById('emailNotifications').checked;
      currentUser.gameInvites = document.getElementById('gameInvites').checked;
      currentUser.friendRequests = document.getElementById('friendRequests').checked;
      currentUser.tournamentUpdates = document.getElementById('tournamentUpdates').checked;
      
      // Save to localStorage
      localStorage.setItem('pokerUser', JSON.stringify(currentUser));
      
      // Update navbar
      updateNavbarForLoggedInUser();
      
      // Close modal and show success
      closeSettingsModal();
      showNotification('Settings saved successfully!', 'success');
    }

    // Duplicate handleLogout removed - using unified version above

    // Close dropdown when clicking outside
    document.addEventListener('click', function(event) {
      const userMenu = document.querySelector('.user-menu');
      const dropdown = document.getElementById('userDropdown');
      
      if (userMenu && !userMenu.contains(event.target)) {
        dropdown.classList.remove('show');
      }
    });

    // Password strength monitoring
    document.addEventListener('DOMContentLoaded', async function() {
      const passwordInput = document.getElementById('signupPassword');
      if (passwordInput) {
        passwordInput.addEventListener('input', function() {
          updatePasswordStrength(this.value);
        });
      }
      
      // Initialize auth system with AuthManager
      await checkAuthState();
    });

    // Close modal when clicking outside
    window.onclick = function(event) {
      const loginModal = document.getElementById('loginModal');
      const forgotModal = document.getElementById('forgotPasswordModal');
      if (event.target === loginModal) {
        closeLoginModal();
      }
      if (event.target === forgotModal) {
        closeForgotPassword();
      }
    }

    // Close modal with Escape key
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') {
        closeLoginModal();
      }
    });

    // Liquid Glass Controls (duplicate removed)

  document.querySelectorAll('a[href^="#"]').forEach(a=>{
    a.addEventListener('click', e=>{
      const t=document.querySelector(a.getAttribute('href'));
      if(t){ e.preventDefault(); t.scrollIntoView({behavior:'smooth', block:'start'}); }
    });
  });

  const observer=new IntersectionObserver((entries)=>{
    entries.forEach(entry=>{
      if(entry.isIntersecting){
        entry.target.style.opacity='1';
        entry.target.style.transform='translateY(0)';
      }
    });
  },{threshold:0.1, rootMargin:'0px 0px -50px 0px'});

  document.querySelectorAll('.feature-card,.stat-item').forEach(el=>{
    el.style.opacity='0'; el.style.transform='translateY(30px)';
    el.style.transition='opacity 0.6s ease, transform 0.6s ease';
    observer.observe(el);
  });

  </script>

  <!-- Social Features -->
  <link rel="stylesheet" href="/css/social-modals.css">
  <script src="/js/social-modals.js"></script>

  <!-- Liquid Glass SVG Filter - Locked Values -->
  <svg xmlns="http://www.w3.org/2000/svg" width="0" height="0" style="position:absolute; overflow:hidden">
    <defs>
      <filter id="glass-distortion" x="0%" y="0%" width="100%" height="100%">
        <feTurbulence type="fractalNoise" baseFrequency="0.008 0.008" numOctaves="2" seed="92" result="noise" />
        <feGaussianBlur in="noise" stdDeviation="2" result="blurred" />
        <feDisplacementMap in="SourceGraphic" in2="blurred" scale="39" xChannelSelector="R" yChannelSelector="G" />
      </filter>
    </defs>
  </svg>
</body>
</html>
